âœ… FIX APLICADO - GEMINI MODEL AUTO-DETECTION

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ NUEVAS FUNCIONES AGREGADAS EN NEWS.py

1ï¸âƒ£ gemini_list_models()
   - GET /v1beta/models?key=...
   - Devuelve lista de modelos disponibles
   - Cacheado 1 hora para no llamar cada diggest

2ï¸âƒ£ gemini_pick_model()
   - Elige automÃ¡ticamente el mejor modelo disponible
   - Orden de preferencia:
     âœ… gemini-1.5-pro (si tienes acceso)
     âœ… gemini-1.5-flash (fallback rÃ¡pido)
     âœ… gemini-pro (modelo antiguo)
     âœ… Cualquier modelo con generateContent support
   - Cacheado 1 hora

3ï¸âƒ£ gemini_generate_json(prompt)
   - RENOVADA con lÃ³gica de fallback
   - Si un modelo devuelve 404 â†’ intenta siguiente
   - Soporta: gemini-1.5-pro, gemini-1.5-flash, gemini-pro
   - Manejo de errores 401/403/429/500 (no reintentos)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ QUÃ‰S VA A PASAR

Escenario 1: Tu key SÃ tiene acceso a gemini-1.5-pro
   âœ… Usa gemini-1.5-pro (modelo mÃ¡s potente)
   âœ… Funciona igual que antes

Escenario 2: Tu key NO tiene gemini-1.5-pro (el 404)
   âœ… Auto-detecta y usa gemini-1.5-flash
   âœ… Sin cambios en prompts ni outputs
   âœ… Funciona perfectamente

Escenario 3: Errores de autenticaciÃ³n (401/403)
   âœ… Muestra error claro: "AI digest error: (http error)"
   âœ… No reintentos infinitos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸ IMPORTANTE - SEGURIDAD

La API key AIzaSyAs2eYuG1a_Hua1Ii4Hmdj8K0Z0RlIH8iY 
ya fue expuesta en chat.

ROTARLA AHORA:
1. Ir a https://console.cloud.google.com/
2. API & Services â†’ Credentials
3. Eliminar la key expuesta
4. Crear nueva key
5. Agregar a Railway: GEMINI_API_KEY=<nueva_key>

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… STATUS

App en http://192.168.1.100:8501
Modelo: Auto-detectado segÃºn tu key
Fallback: Activo (3 modelos intentos)
Seguridad: Key expuesta - ROTAR

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Timestamp: 2026-01-18
Version: 1.1 - Model Auto-Detection
